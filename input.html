<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment - Smart Crop Health</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo-area">
                <div class="logo-icon"><i class="fas fa-leaf"></i></div>
                <span data-i18n="app.shortTitle">SmartCrop</span>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> <span data-i18n="nav.home">Home</span></a></li>
                    <li><a href="input.html" class="active"><i class="fas fa-clipboard-check"></i> <span data-i18n="nav.diagnose">Assessment</span></a></li>
                    <li><a href="results.html"><i class="fas fa-chart-bar"></i> <span data-i18n="nav.results">Results</span></a></li>
                    <li><a href="measures.html"><i class="fas fa-shield-alt"></i> <span data-i18n="nav.measures">Measures</span></a></li>
                    <li><a href="guide.html"><i class="fas fa-book-open"></i> <span data-i18n="nav.guide">Guide</span></a></li>
                </ul>
            </nav>
            <div class="lang-switch">
                <select id="languageSelect">
                    <option value="en">English</option>
                    <option value="hi">हिंदी</option>
                </select>
            </div>
        </div>
    </header>

    <main>
        <form id="cropForm">
            <div class="split-layout">
                <!-- Sidebar -->
                <aside class="sidebar-card">
                    <div class="progress-header">
                        <h3 data-i18n="input.sidebarTitle">Questions</h3>
                        <div style="height: 4px; background: #e0f2f1; border-radius: 2px; margin-top: 0.5rem;">
                            <div style="width: 15%; height: 100%; background: var(--primary-color); border-radius: 2px;"></div>
                        </div>
                    </div>
                    <ul class="step-list">
                        <li class="step-item active" onclick="scrollToSection('sec-crop')">
                            <i class="fas fa-seedling"></i> <span data-i18n="input.cropType">Crop Type</span>
                        </li>
                        <li class="step-item" onclick="scrollToSection('sec-color')">
                            <i class="fas fa-palette"></i> <span data-i18n="input.leafColor">Leaf Color</span>
                        </li>
                        <li class="step-item" onclick="scrollToSection('sec-symptoms')">
                            <i class="fas fa-virus"></i> <span data-i18n="input.symptoms">Symptoms</span>
                        </li>
                        <li class="step-item" onclick="scrollToSection('sec-curl')">
                            <i class="fas fa-wind"></i> <span data-i18n="input.curling">Curling</span>
                        </li>
                        <li class="step-item" onclick="scrollToSection('sec-growth')">
                            <i class="fas fa-chart-line"></i> <span data-i18n="input.growth">Growth</span>
                        </li>
                        <li class="step-item" onclick="scrollToSection('sec-rain')">
                            <i class="fas fa-cloud-rain"></i> <span data-i18n="input.rainfall">Rainfall</span>
                        </li>
                    </ul>
                </aside>

                <!-- Form Content -->
                <div class="form-content fade-in">
                    
                    <!-- Section 1: Crop Type -->
                    <div id="sec-crop" class="form-section mb-4">
                        <h2 class="question-title" data-i18n="input.question1">What type of crop are you growing?</h2>
                        <!-- Hidden Select for Logic Compatibility -->
                        <select id="cropType" style="display:none;" required>
                            <option value="">Select</option>
                            <option value="Wheat">Wheat</option>
                            <option value="Rice">Rice</option>
                            <option value="Corn">Corn</option>
                            <option value="Tomato">Tomato</option>
                            <option value="Potato">Potato</option>
                        </select>
                        
                        <!-- Visual Selection Grid -->
                        <div class="selection-grid" id="cropGrid">
                            <div class="selection-card" data-value="Rice">
                                <div style="font-size: 2.5rem; color: #81c784; margin-bottom: 0.5rem;"><i class="fas fa-bowl-rice"></i></div>
                                <div data-i18n="crop.Rice">Rice</div>
                            </div>
                            <div class="selection-card" data-value="Wheat">
                                <div style="font-size: 2.5rem; color: #fdd835; margin-bottom: 0.5rem;"><i class="fas fa-wheat"></i></div>
                                <div data-i18n="crop.Wheat">Wheat</div>
                            </div>
                            <div class="selection-card" data-value="Corn">
                                <div style="font-size: 2.5rem; color: #ffb74d; margin-bottom: 0.5rem;"><i class="fas fa-candy-cane" style="transform: rotate(180deg);"></i></div>
                                <div data-i18n="crop.Corn">Corn</div>
                            </div> <!-- FontAwesome free doesn't have corn, used candy-cane as placeholder or wheat -->
                            <div class="selection-card" data-value="Tomato">
                                <div style="font-size: 2.5rem; color: #e57373; margin-bottom: 0.5rem;"><i class="fas fa-apple-alt"></i></div>
                                <div data-i18n="crop.Tomato">Tomato</div>
                            </div>
                            <div class="selection-card" data-value="Potato">
                                <div style="font-size: 2.5rem; color: #a1887f; margin-bottom: 0.5rem;"><i class="fas fa-cookie"></i></div>
                                <div data-i18n="crop.Potato">Potato</div>
                            </div>
                        </div>
                    </div>

                    <hr style="border: 0; border-top: 1px solid #eee; margin: 3rem 0;">

                    <!-- Section 2: Leaf Color -->
                    <div id="sec-color" class="form-section mb-4">
                        <h2 class="question-title" data-i18n="input.question2">What color are the leaves?</h2>
                        <div style="display: flex; gap: 1rem; align-items: center;">
                            <input type="color" id="leafColor" value="#2e7d32" style="width: 100px; height: 100px; border-radius: 50%; border: 4px solid #eee; cursor: pointer;">
                            <div style="flex: 1;">
                                <p data-i18n="input.colorDesc">Tap the circle to match the leaf color.</p>
                            </div>
                        </div>
                    </div>

                    <hr style="border: 0; border-top: 1px solid #eee; margin: 3rem 0;">

                    <!-- Section 3: Symptoms -->
                    <div id="sec-symptoms" class="form-section mb-4">
                        <h2 class="question-title" data-i18n="input.question3">Do you see any spots?</h2>
                        <label class="selection-card" style="display: flex; align-items: center; gap: 1rem; text-align: left;">
                            <input type="checkbox" id="spots" style="width: 24px; height: 24px;">
                            <span data-i18n="input.spots">Yes, there are spots on the leaves</span>
                        </label>
                    </div>

                    <hr style="border: 0; border-top: 1px solid #eee; margin: 3rem 0;">

                    <!-- Section 4: Curling -->
                    <div id="sec-curl" class="form-section mb-4">
                        <h2 class="question-title" data-i18n="input.question4">Are the leaves curling?</h2>
                        <div class="selection-grid" style="grid-template-columns: 1fr 1fr;">
                            <label class="selection-card">
                                <input type="radio" name="leafCurling" value="yes" style="display:none;" onchange="updateCurlUI(this)">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;"><i class="fas fa-check-circle"></i></div>
                                <span data-i18n="input.yes">Yes</span>
                            </label>
                            <label class="selection-card selected">
                                <input type="radio" name="leafCurling" value="no" checked style="display:none;" onchange="updateCurlUI(this)">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;"><i class="fas fa-times-circle"></i></div>
                                <span data-i18n="input.no">No</span>
                            </label>
                        </div>
                    </div>

                    <hr style="border: 0; border-top: 1px solid #eee; margin: 3rem 0;">

                    <!-- Section 5: Growth -->
                    <div id="sec-growth" class="form-section mb-4">
                        <h2 class="question-title" data-i18n="input.question5">Rate the growth health</h2>
                        <div class="range-container" style="display: block;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                <span data-i18n="input.poor">Poor</span>
                                <span id="growthValue" style="font-weight: bold; color: var(--primary-color); font-size: 1.5rem;">50%</span>
                                <span data-i18n="input.excellent">Excellent</span>
                            </div>
                            <input type="range" id="growthRate" min="0" max="100" value="50">
                        </div>
                    </div>

                    <hr style="border: 0; border-top: 1px solid #eee; margin: 3rem 0;">

                    <!-- Section 6: Rainfall -->
                    <div id="sec-rain" class="form-section mb-4">
                        <h2 class="question-title" data-i18n="input.question6">Average Rainfall (mm)</h2>
                        <input type="number" id="rainfall" class="large-input" placeholder="e.g. 120" required>
                    </div>

                    <div style="text-align: center; margin-top: 4rem;">
                        <button type="submit" class="btn" data-i18n="input.analyzeBtn">View Analysis Results</button>
                    </div>

                </div>
            </div>
        </form>
    </main>

    <footer>
        <p data-i18n="footer.text">&copy; 2024 Smart Crop Health System</p>
    </footer>

    <script src="script.js"></script>
    <script>
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'center' });
            // Update active state in sidebar
            document.querySelectorAll('.step-item').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        // Handle Card Selection for Crop
        document.querySelectorAll('#cropGrid .selection-card').forEach(card => {
            card.addEventListener('click', () => {
                // Remove selected class from all
                document.querySelectorAll('#cropGrid .selection-card').forEach(c => c.classList.remove('selected'));
                // Add to current
                card.classList.add('selected');
                // Update hidden select
                document.getElementById('cropType').value = card.dataset.value;
            });
        });

        // Handle Radio Styling
        function updateCurlUI(radio) {
            const container = radio.closest('.selection-grid');
            container.querySelectorAll('.selection-card').forEach(c => c.classList.remove('selected'));
            radio.closest('.selection-card').classList.add('selected');
        }
    </script>
</body>
</html>
